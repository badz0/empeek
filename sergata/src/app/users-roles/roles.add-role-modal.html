<div class="modal-header">
    <button type="button" class="close" ng-click="addRolerVm.cancel()"><span
        aria-hidden="true">Ã—</span></button>
    <h4 class="modal-title">{{'ADD' | translate }} {{'NEW' | translate }} {{'ROLE' | translate }}</h4>
</div>
<form name="addRoleForm" ng-submit="addRoleForm.$valid && addRolerVm.saveRole()" novalidate>
    <div class="modal-body">
        <div class="form-group" ng-class="{'has-error': addRoleForm.$submitted && addRoleForm.name.$error.required}">
            <label class="control-label">{{'ROLE' | translate }} {{'NAME' | translate }}</label>
            <input name="name" type="text" class="form-control" ng-model="addRolerVm.role_name"
                   placeholder="{{'ROLE' | translate }} {{'NAME' | translate }}"
                   required/>
            <div class="help-block" ng-show="addRoleForm.$submitted">
                <span ng-show="addRoleForm.name.$error.required">
                    {{'NAME'|translate}} {{'CANNOT_BE_EMPTY'| translate}}
                </span>
            </div>
        </div>
        <div class="form-group" ng-class="{'has-error': addRoleForm.$submitted && (addRoleForm.resTagNew.$error.required || addRoleForm.resTag.$error.required)}">
            <label class="control-label" translate>ACCESS_TAG</label>
            <div class="input-group col-md-12">
                <input ng-show="addRolerVm.resourceTag.isNew"
                       name="resTagNew"
                       type="text"
                       class="form-control"
                       placeholder="Access Tag"
                       ng-model="addRolerVm.resourceTag.name"
                       ng-required="addRolerVm.resourceTag.isNew"/>
                <select class="form-control rounded-border-left"
                        name="resTag"
                        ng-show="!addRolerVm.resourceTag.isNew"
                        ng-model="addRolerVm.resourceTag.id"
                        ng-class="{'select-placeholder': !addRolerVm.resourceTag.id}"
                        ng-options="resourceTag.id as resourceTag.name for resourceTag in addRolerVm.resourceTags"
                        ng-required="!addRolerVm.resourceTag.isNew">
                    <option value="" disabled selected>{{'SELECT' | translate }} {{'ACCESS_TAG' | translate }}</option>
                </select>
                <span class="input-group-btn">
                    <button class="btn btn-primary" type="button" ng-click="addRolerVm.resourceTag.isNew = !addRolerVm.resourceTag.isNew">
                        <span ng-class="addRolerVm.resourceTag.isNew?'glyphicon glyphicon-search':'fa fa-pencil'"></span>
                    </button>
                </span>
            </div>
            <div class="help-block" ng-show="addRoleForm.$submitted">
                <span ng-show="addRoleForm.resTag.$error.required || addRoleForm.resTagNew.$error.required">
                    {{'ACCESS_TAG'|translate}} {{'CANNOT_BE_EMPTY'| translate}}
                </span>
            </div>
        </div>

        <div icons-permissions="clusters" title-name="{{'RESOURCES'| translate}}" edit-mode="true" permissions-array="addRolerVm.permissions"></div>
        <div icons-permissions="sources" title-name="{{'SOURCES'| translate}}" edit-mode="true" permissions-array="addRolerVm.permissions"></div>
        <div icons-permissions="adaptive_channels" title-name="{{'ADAPTIVE_CHANNELS'| translate}}" edit-mode="true" permissions-array="addRolerVm.permissions"></div>
        <div icons-permissions="delivery_channels" title-name="{{'DELIVERY_CHANNELS'| translate}}" edit-mode="true" permissions-array="addRolerVm.permissions"></div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default"
                type="button"
                ng-click="addRolerVm.cancel()"
                translate>
            BTN_CLOSE
        </button>
        <button class="btn btn-primary"
                type="submit"
                translate>
            BTN_SAVE
        </button>
    </div>
</form>


