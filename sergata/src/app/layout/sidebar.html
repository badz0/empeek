<div class="page-sidebar navbar-collapse collapse" ng-controller="SidebarController as vm">

    <ht-sidebar when-done-animating="vm.sidebarReady()">
        <ul class="page-sidebar-menu  page-header-fixed " data-keep-expanded="false" data-auto-scroll="true"
            data-slide-speed="200">
            <li class="nav-item" ng-class="(!r.settings.is_child)?vm.isCurrent(r):''" ng-repeat="r in vm.navRoutes" ng-show="vm.isAllowed(r.name)">
                <a ui-sref="{{(r.settings.childDefault) ? r.settings.childDefault : r.name}}" ui-sref-opts="{reload: true}" class="nav-link" ng-if="!r.settings.is_child" data-toggle="collapse" data-target=".navbar-collapse">
                    <i ng-class="r.settings.iconClass"></i>
                    <span class="title">{{r.title | translate}}</span>
                    <i class="fa fa-chevron-right pull-right"></i>
                    <span class="badge badge-danger" ng-show="r.settings.notificationsKey && vm.notifications[r.settings.notificationsKey].bad_outputs">
                        {{vm.notifications[r.settings.notificationsKey].bad_outputs}}
                    </span>
                </a>

                <a href="javascript:;" class="nav-link" ng-if="r.settings.group_name">
                    <i class="fa fa-cubes"></i> <span class="title">{{r.settings.group_name | translate}}</span>
                </a>

                <!--<span class="sub-menu-click-intercept" ng-if="r.settings.is_child"></span>-->

                <ul class="sub-menu always-open"  style="display: block;" ng-if="r.settings.is_child">


                    <!-- This prevents the metronic JS from closing/opening the sub menu and overriding the above <a> link -->


                    <li class="nav-item" ng-class="vm.isCurrent(r)">
                        <a ui-sref="{{(r.settings.childDefault) ? r.settings.childDefault : r.name}}" ui-sref-opts="{reload: true}" class="nav-link" data-toggle="collapse" data-target=".navbar-collapse">
                            <i ng-class="r.settings.iconClass"></i>
                            <span class="title">{{r.title | translate}}</span>
                            <i class="fa fa-chevron-right pull-right"></i>
                            <span class="badge badge-danger"
                                  ng-show="r.settings.notificationsKey && vm.notifications[r.settings.notificationsKey].bad_outputs">
                                {{vm.notifications[r.settings.notificationsKey].bad_outputs}}
                            </span>
                        </a>
                    </li>
                </ul>
            </li>
            <!--<li class="nav-item ">-->
            <!--<a href="" class="nav-link">-->
            <!--<i class="fa fa-cubes"></i> <span class="title">Resources</span>-->
            <!--</a>-->
            <!--&lt;!&ndash; This prevents the metronic JS from closing/opening the sub menu and overriding the above <a> link &ndash;&gt;-->
            <!--<span class="sub-menu-click-intercept"></span>-->
            <!--<ul class="sub-menu always-open" style="display: block;">-->
            <!--<li class="nav-item">-->
            <!--<a href="zixi-feeders.html" class="nav-link" style="padding-right: 4px !important;">-->
            <!--<i class="fa fa-rss"></i><span class="title">Feeders</span> <i class="fa fa-chevron-right pull-right"></i>-->
            <!--</a>-->
            <!--</li>-->
            <!--<li class="nav-item ">-->
            <!--<a href="zixi-clusters.html" class="nav-link" style="padding-right: 4px !important;">-->
            <!--<i class="fa fa-cloud"></i><span class="title">Broadcasters</span> <i-->
            <!--class="fa fa-chevron-right pull-right"></i><span class="badge badge-danger"> 1 </span>-->
            <!--</a>-->
            <!--</li>-->
            <!--</ul>-->
            <!--</li>-->
        </ul>
    </ht-sidebar>
    <!-- END SIDEBAR MENU -->
</div>
