<form name="addNewSource" ng-submit="addNewSource.$valid && addSourceVm.saveSource()" novalidate>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                ng-click="addSourceVm.cancel()"><span
            aria-hidden="true">Ã—</span></button>
        <h4 class="modal-title">{{'NEW' | translate}} {{'SOURCE' | translate}}</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <div class="form-group"
                     ng-class="{'has-error': addNewSource.$submitted && addNewSource.name.$error.required}">
                    <label class="control-label" translate>NAME</label>
                    <input type="text"
                           name="name"
                           ng-model="addSourceVm.name"
                           class="form-control"
                           required
                           translate
                           translate-attr-placeholder="NAME"/>
                    <div class="help-block" ng-show="addNewSource.$submitted">
                        <span ng-show="addNewSource.name.$error.required">{{'NAME'|translate}} {{'CANNOT_BE_EMPTY'| translate}}</span>
                    </div>
                </div>
                <div class="form-group"
                     ng-class="{'has-error': addNewSource.$submitted && addNewSource.resourceTag.$error.required}">
                    <label class="control-label" translate>ACCESS_TAG</label>
                    <select class="form-control"
                            name="resourceTag"
                            ng-model="addSourceVm.resource_tag_id"
                            ng-options="resourceTag.id as resourceTag.name for resourceTag in addSourceVm.resourceTags"
                            ng-class="{'select-placeholder': !addSourceVm.resource_tag_id}"
                            required>
                        <option value="" disabled selected>{{'SELECT'|translate}} {{'ACCESS_TAG'|translate}}</option>
                    </select>
                    <div class="help-block" ng-show="addNewSource.$submitted">
                        <span ng-show="addNewSource.resourceTag.$error.required">{{'ACCESS_TAG'|translate}} {{'CANNOT_BE_EMPTY'| translate}}</span>
                    </div>
                </div>
                <div class="form-group"
                     ng-class="{'has-error': addNewSource.$submitted && addNewSource.inputCluster.$error.required}">
                    <label class="control-label">{{'INPUT' | translate}} {{'CLUSTER' | translate}}</label>
                    <select class="form-control"
                            name="inputCluster"
                            ng-model="addSourceVm.broadcaster_cluster_id"
                            ng-class="{'select-placeholder': !addSourceVm.broadcaster_cluster_id}"
                            ng-options="inputCluster.id as inputCluster.name for inputCluster in addSourceVm.inputClusters"
                            required>
                        <option value="" disabled selected>{{'SELECT' | translate}} {{'INPUT' | translate}} {{'CLUSTER' | translate}}</option>
                    </select>
                    <div class="help-block" ng-show="addNewSource.$submitted">
                        <span ng-show="addNewSource.inputCluster.$error.required">
                            {{'INPUT'|translate}} {{'CLUSTER'|translate}} {{'CANNOT_BE_EMPTY'| translate}}</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" translate>FEEDER</label>
                    <select class="form-control" id="feeder-select"
                            ng-model="addSourceVm.feeder_id"
                            ng-change="addSourceVm.getFeederInputs(addSourceVm.feeder_id);"
                            ng-class="{'select-placeholder': !addSourceVm.feeder_id && addSourceVm.check_feeder_name!=='Unmanaged'}"
                            ng-options="feeder.id as feeder.name for feeder in addSourceVm.feeders">
                        <option value="" disabled selected>{{'SELECT' | translate}} {{'FEEDER' | translate}}</option>
                    </select>
                </div>
                <div class="form-group feeder-select"
                     ng-show="addSourceVm.feeder_id && addSourceVm.feederInputs"
                >
                    <label class="control-label">{{'FEEDER' | translate}} {{'INPUT' | translate}}</label>
                    <select class="form-control"
                            ng-model="addSourceVm.feeder_input"
                            ng-class="{'select-placeholder': !addSourceVm.feeder_input}"
                            ng-options="feederInput.name as (feederInput | prettyFeederInput) for feederInput in addSourceVm.feederInputs">
                        <option value="" disabled selected>{{'SELECT' | translate}} {{'FEEDER' | translate}} {{'INPUT' | translate}}</option>
                    </select>
                </div>
                <div class="form-group"
                     ng-class="{'has-error': addNewSource.$submitted && addNewSource.password.$error.required}">
                    <label class="control-label" translate>PASSWORD</label>
                    <input type="password" name="password" class="form-control"
                           ng-model="addSourceVm.password"
                           placeholder="Password"
                           required/>
                    <div class="help-block" ng-show="addNewSource.$submitted">
                        <span ng-show="addNewSource.password.$error.required">{{'PASSWORD'|translate}} {{'CANNOT_BE_EMPTY'| translate}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default" type="button" data-dismiss="modal"
                ng-click="addSourceVm.cancel()" translate>BTN_CANCEL
        </button>
        <button type="submit" class="btn btn-primary" data-dismiss="modal" translate>
            BTN_SAVE
        </button>
    </div>
</form>

